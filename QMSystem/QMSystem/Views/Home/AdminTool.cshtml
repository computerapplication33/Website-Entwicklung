@model List<QMSystem.Models.Documents>


@{
    ViewData["Title"] = "AdminTool";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>

    td, th {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
    }

    tr:nth-child(even) {
        background-color: #dddddd;
    }
</style>

<h2>Änderungsanträge</h2>
<body>
    <table style="font-family: arial, sans-serif; border-collapse: collapse; width: 100%;">

        <tr style="font-size:16px; text-align:center">
            <th>Dokumentname</th>
            <th>Dokumentpfad</th>
            <th>Antragsdatum</th>
            <th>Antragsteller</th>
            <th>Betreff</th>
            <th>Beschreibung</th>
            <th>Freigabestatus</th>
        </tr>

        @foreach (Documents document in Model)
        {
            <tr>
                <td>
                    @document.DocumentName
                </td>
                <td>

                    <a href="@document.DocumentPath" target="_blank" Link>Dokument öffnen</a>
                    
                </td>
                <td>
                    @document.RequestDate
                </td>
                <td>
                    @document.UserName
                </td>
                <td>
                    @document.Betreff
                </td>
                <td>
                    @document.Anmerkungen
                </td>
                <td>
                    <select class="form-control" id="Status" name="Status">
                        <option>Nicht freigegeben</option>
                        <option>Direkte Freigabe</option>
                        <option>Weitergabe an GF</option>
                        <option>Abgelehnt</option>
                      
                    </select>
                    <button type="button" onclick="Abgabe()">Änderung speichern</button>
                </td>
            </tr>
        }
    </table>
</body>

<script>
    window.URL = window.URL || window.webkitURL;

    const fileSelect = document.getElementById("fileSelect"),
        fileElem = document.getElementById("fileElem"),
        fileList = document.getElementById("fileList");

    fileSelect.addEventListener("click", function (e) {
        if (fileElem) {
            fileElem.click();
        }
        e.preventDefault(); // prevent navigation to "#"
    }, false);

    function handleFiles(files) {
        if (!files.length) {
            fileList.innerHTML = "<p>No files selected!</p>";
        } else {
            fileList.innerHTML = "";
            const list = document.createElement("ul");
            fileList.appendChild(list);
            for (let i = 0; i < files.length; i++) {
                const li = document.createElement("li");
                list.appendChild(li);

                const img = document.createElement("img");
                img.src = window.URL.createObjectURL(files[i]);
                img.height = 60;
                img.onload = function () {
                    window.URL.revokeObjectURL(this.src);
                }
                li.appendChild(img);
                const info = document.createElement("span");
                info.innerHTML = files[i].name + ": " + files[i].size + " bytes";
                li.appendChild(info);
            }
        }
    }


</script>
